{"version":3,"sources":["components/modals/ingredient-details/ingredient_details.module.css","components/app-header/app-header.js","api/api.js","services/actions/ingredients.jsx","services/actions/burgerConstructor.jsx","components/ingredient-section/elements.jsx","components/ingredient-section/ingredient-section.js","components/burger-constructor/total-bill.js","components/modals/modal-overlay/modal-overlay.jsx","components/modals/modals.jsx","images/done.svg","components/modals/order-details/order-details.jsx","components/burger-constructor/burger-constructor.js","components/card/card.js","utils/const.js","components/ingredient-list/ingredient-list.js","components/modals/ingredient-details/ingredient-details.jsx","components/burger-ingredients/burger-ingredients.js","components/app/app.jsx","services/reducers/ingredients.jsx","services/reducers/burgerConstructor.jsx","services/reducers/index.jsx","index.jsx","components/app-header/app-header.module.css","components/burger-constructor/burger-constructor.module.css","components/modals/modals.module.css","components/modals/order-details/order_details.module.css","components/card/card.module.css","components/ingredient-section/ingredient-section.module.css","components/burger-ingredients/burger-ingredients.module.css","components/app/app.module.css","components/ingredient-list/ingredient-list.module.css"],"names":["module","exports","AppHeader","className","styles","header","header__navigation","header__button","header__button_active","type","header__login","api","url","this","_url","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","ingredients","method","headers","body","JSON","stringify","INCREASE_COUNTER","DECREASE_COUNTER","RESET_COUNTER","GET_ITEMS_REQUEST","GET_ITEMS_SUCCESS","GET_ITEMS_FAILED","TAB_SWITCH","TOGGLE_MODAL","ADD_INGREDIENT","DELETE_INGREDIENT","RESET_ALL_INGREDIENTS","SET_TOTAL_PRICE","RESET_TOTAL_PRICE","TOGGLE_ORDER_MODAL","PLACE_ORDER_REQUEST","PLACE_ORDER_SUCCESS","PLACE_ORDER_FAILED","MOVE_ELEMENT","Element","item","index","id","ref","useRef","dispatch","useDispatch","useDrop","accept","hover","element","current","dragIndex","hoverIndex","data","drop","useDrag","collect","monitor","opacity","isDragging","drag","ingredients__el","text","name","price","thumbnail","image","isLocked","handleClose","IngredientSection","useSelector","state","burgerConstructorIngredients","burgerIngredients","buns","burgerConstructorBuns","useEffect","total","map","length","value","ingredients__item","ingredients__list","key","TotalBill","totalPrice","ingredients__total","ModalOverlay","handleCloseClick","onClick","popup","modalsContainer","document","querySelector","Modal","children","handleEscKeydown","e","addEventListener","removeEventListener","ReactDOM","createPortal","popup__container","popup__close_btn","popup__header","OrderDetails","orderNumber","ordr__card","ordr__number","src","done","alt","ordr__check_icon","popup__price","BurgerConstructor","isModalOpen","orderRequest","isHover","isOver","Math","random","toString","slice","moveItem","dropTarget","onCloseBtnClick","ingredients__section","ingredients__shopping_cart","ingredients__button","IDs","_id","setTimeout","placeOrder","success","payload","order","number","catch","err","console","error","size","Card","PropTypes","shape","string","isRequired","oneOf","proteins","fat","carbohydrates","calories","image_mobile","image_large","__v","clicker","card","style","card__image","counter","card__counter","count","card__price","card__title","IngredientList","React","forwardRef","title","ingredient","openModal","filter","IngredientDetails","ingr__card","ingr__image","ingr__title","ingr__info_section","ingr__info_el","BurgerIngredients","currentTab","handleClick","scrollIntoView","useInView","threshold","refBun","tabBun","refSauce","tabSauce","refMain","tabMain","useState","renderData","setRenderData","onIngrClick","ingredients__tab","active","ingredients__menu","App","getIngredients","app","app__main","DndProvider","backend","HTML5Backend","initialState","ingredientsRequest","ingredientsFailed","orderRequestFailed","rootReducer","combineReducers","action","splice","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","render"],"mappings":"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","file":"static/js/main.51a3b6dd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingr__card\":\"ingredient_details_ingr__card__3wtUp\",\"ingr__info_section\":\"ingredient_details_ingr__info_section__3czsF\",\"ingr__info_el\":\"ingredient_details_ingr__info_el__38tx1\",\"ingr__title\":\"ingredient_details_ingr__title__3Rqhu\",\"ingr__image\":\"ingredient_details_ingr__image__1CZvE\"};","import styles from \"./app-header.module.css\";\nimport { Logo } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { BurgerIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { ListIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { ProfileIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nconst AppHeader = () => {\n  return (\n    <header className={`${styles.header} p-4`}>\n      <nav>\n        <ul className={styles.header__navigation}>\n          <li>\n            <a className={`${styles.header__button} ${styles.header__button_active} pt-4 pb-4 pl-5 pr-5 mr-2`}>\n            <BurgerIcon type=\"primary\" />\n            <p className=\"text text_type_main-default ml-2\">Конструктор</p>\n            </a>\n          </li>\n          <li>\n            <a className={`${styles.header__button} pt-4 pb-4 pl-5 pr-5`}>\n            <ListIcon type=\"secondary\" />\n            <p className=\"text text_type_main-default text_color_inactive ml-2\">\n              Лента Заказов\n            </p>\n            </a>\n          </li>\n        </ul>\n      </nav>\n      <Logo />\n      <nav>\n        <ul className={styles.header__login}>\n          <li>\n            <a className={`${styles.header__button} pt-4 pb-4 pl-5 pr-5`}>\n            <ProfileIcon type=\"secondary\" />\n            <p className=\"text text_type_main-default text_color_inactive ml-2\">\n              Личный кабинет\n            </p>\n            </a>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default AppHeader;\n","const config = {\n    url: \"https://norma.nomoreparties.space/api\"\n}\n\nclass API {\n    constructor ({url}){\n        this._url = url;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n      }\n\n\n    getIngredients () {\n        return fetch(`${this._url}/ingredients`)\n        .then ( this._checkResponse) \n    }\n\n    placeOrder (ingredients) {\n        return fetch (`${this._url}/orders`,{\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json' },\n            body: JSON.stringify(ingredients)\n        })\n          .then ( this._checkResponse)\n    }\n\n\n}\nconst api = new API (config);\n\nexport default api;\n ","import api from \"../../api/api\";\n\nexport const INCREASE_COUNTER = \"INCREASE_COUNTER\";\nexport const DECREASE_COUNTER = \"DECREASE_COUNTER\";\nexport const RESET_COUNTER = 'RESET_COUNTER';\n\nexport const GET_ITEMS_REQUEST = \"GET_ITEMS_REQUEST\";\nexport const GET_ITEMS_SUCCESS = \"GET_ITEMS_SUCCESS\";\nexport const GET_ITEMS_FAILED = \"GET_ITEMS_FAILED\";\n\nexport const TAB_SWITCH = \"TAB_SWITCH\";\nexport const TOGGLE_MODAL = \"TOGGLE_MODAL\";\n\n\nexport function getItems() {\n  return function(dispatch) {\n    dispatch({\n      type: GET_ITEMS_REQUEST\n    });\n    api.getIngredients()\n      .then(res => {\n        if (res && res.success) {\n          dispatch({\n            type: GET_ITEMS_SUCCESS,\n            ingredients: res.data\n          });\n        } else {\n          dispatch({\n            type: GET_ITEMS_FAILED\n          });\n        }\n      })\n      .catch(err => {\n        console.error(err);\n        dispatch({\n          type: GET_ITEMS_FAILED\n        });\n      });\n  };\n}\n","import api from \"../../api/api\";\nimport { RESET_COUNTER } from \"./ingredients\";\n\nexport const ADD_INGREDIENT = \"ADD_INGREDIENT\";\nexport const DELETE_INGREDIENT = \"DELETE_INGREDIENT\";\nexport const RESET_ALL_INGREDIENTS = 'RESET_ALL_INGREDIENTS';\n\nexport const SET_TOTAL_PRICE = \"SET_TOTAL_PRICE\";\nexport const RESET_TOTAL_PRICE = 'RESET_TOTAL_PRICE';\n\nexport const TOGGLE_ORDER_MODAL = \"TOGGLE_ORDER_MODAL\";\n\nexport const PLACE_ORDER_REQUEST = \"PLACE_ORDER_REQUEST\";\nexport const PLACE_ORDER_SUCCESS = \"PLACE_ORDER_SUCCESS\";\nexport const PLACE_ORDER_FAILED = \"PLACE_ORDER_FAILED\";\n\nexport const MOVE_ELEMENT = \"MOVE_ELEMENT\";\n\nexport function placeOrder(IDs) {\n  return function(dispatch) {\n    dispatch({\n      type: PLACE_ORDER_REQUEST\n    });\n    setTimeout( ()=> {api.placeOrder(IDs)\n      .then(res => {\n        if (res && res.success) {\n          dispatch({\n            type: PLACE_ORDER_SUCCESS,\n            payload: res.order.number\n          });\n          dispatch({\n            type: TOGGLE_ORDER_MODAL\n          });\n        } else {\n          dispatch({\n            type: PLACE_ORDER_FAILED\n          });\n        }\n      })\n      .then(() => {\n        dispatch({\n          type: RESET_ALL_INGREDIENTS\n        });\n        dispatch({\n          type: RESET_COUNTER\n        });\n        dispatch({\n          type: RESET_TOTAL_PRICE\n        });\n      })\n      .catch(err => {\n        console.error(err);\n        dispatch({\n          type: PLACE_ORDER_FAILED\n        });\n      });\n    }, 1000 )\n  };\n\n}\n\n\n\n","import { ConstructorElement, DragIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { DELETE_INGREDIENT, MOVE_ELEMENT } from \"../../services/actions/burgerConstructor\";\nimport { DECREASE_COUNTER } from \"../../services/actions/ingredients\";\nimport styles from \"./ingredient-section.module.css\";\nimport { useRef } from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport { useDispatch } from \"react-redux\";\n\nconst Element = ({ item, index, id }) => {\n\n  const ref = useRef(null);\n  const dispatch = useDispatch();\n\n  //сортировка ингредиентов внутри конструктора\n  const [, drop] = useDrop({\n    accept: \"item\",\n    hover(element) {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = element.index;\n      const hoverIndex = index;\n      dispatch({\n        type: MOVE_ELEMENT,\n        data: { dragIndex, hoverIndex },\n      });\n      element.index = hoverIndex;\n    },\n  });\n\n  const [{ opacity }, drag] = useDrag({\n    type: \"item\",\n    item: { id, index },\n    collect: (monitor) => {\n      return {\n        opacity: monitor.isDragging() ? 0.5 : 1,\n      };\n    },\n  });\n\n  drag(drop(ref));\n\n  return (\n    <li index={index} ref={ref} id={id} className={styles.ingredients__el}>\n      <DragIcon type=\"primary\" />\n      <ConstructorElement\n        text={item?.name}\n        price={item?.price}\n        thumbnail={item?.image}\n        isLocked={false}\n        handleClose={() => {\n          dispatch({\n            type: DELETE_INGREDIENT,\n            item\n          });\n          dispatch({\n            type: DECREASE_COUNTER,\n            item\n          });\n        }}\n      />\n    </li>);\n};\n\nexport default Element;","import { ConstructorElement } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { DragIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"./ingredient-section.module.css\";\nimport { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { DELETE_INGREDIENT, SET_TOTAL_PRICE } from \"../../services/actions/burgerConstructor\";\nimport { DECREASE_COUNTER } from \"../../services/actions/ingredients\";\nimport { useDrop } from \"react-dnd\";\nimport Element from \"./elements\";\n\nconst IngredientSection = () => {\n  const dispatch = useDispatch();\n  const {\n    burgerConstructorIngredients: burgerIngredients,\n    burgerConstructorBuns: buns\n  } = useSelector(state => state.burgerConstructorIngredients);\n\n  useEffect(() => {\n    let total = 0;\n    burgerIngredients.map((item) => {\n      total += item.price;\n    });\n    if (buns.length > 0) {\n      total += buns[0].price * 2;\n    }\n    dispatch({\n      type: SET_TOTAL_PRICE,\n      value: total\n    });\n  }, [burgerIngredients, buns]);\n\n  return (\n    <>\n      <div className={`${styles.ingredients__item} pl-4`}>\n        {buns.length !== 0 && (\n          <div className=\"pr-3\">\n            <ConstructorElement\n              type=\"top\"\n              text={`${buns[0].name} (верх)`}\n              price={buns[0].price}\n              thumbnail={buns[0].image}\n              isLocked={true}\n            />\n          </div>\n        )}\n        <ul className={`${styles.ingredients__list} mt-4 mb-4 `}>\n          {burgerIngredients\n            .map((item, index) => {\n              return (\n                <Element\n                  key={item.key}\n                  id={item.key}\n                  index={index}\n                  item={item} />\n              );\n            })}\n        </ul>\n        {buns.length !== 0 && (\n          <div className=\"pr-3\">\n            <ConstructorElement\n              type=\"bottom\"\n              text={`${buns[0].name} (низ)`}\n              price={buns[0].price}\n              thumbnail={buns[0].image}\n              isLocked={true}\n            />\n          </div>\n        )}\n      </div>\n      { burgerIngredients.length === 0 && buns.length === 0 && (\n        <p> Чтобы оформить заказ начните добавлять ингредиенты бургера </p>)}\n    </>\n  );\n};\n\nexport default IngredientSection;\n","import { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"./burger-constructor.module.css\";\nimport { useSelector } from \"react-redux\";\n\nconst TotalBill = () => {\n\n  const { totalPrice } = useSelector((state) => state.burgerConstructorIngredients);\n\n  return (\n    <div className={styles.ingredients__total}>\n      <p className=\"text text_type_digits-medium\">{totalPrice}</p>\n      <CurrencyIcon type=\"primary\" />\n    </div>\n  );\n};\n\nexport default TotalBill;\n","import PropTypes from \"prop-types\";\nimport styles from \"../modals.module.css\";\n\nconst ModalOverlay = ({ handleCloseClick }) => {\n  const closePopup = () => {\n    handleCloseClick();\n  };\n\n  return (\n    <>\n      <div onClick={closePopup} className={styles.popup}></div>\n    </>\n  );\n};\n\nModalOverlay.propTypes = {\n  handleCloseClick: PropTypes.func.isRequired,\n};\n\nexport default ModalOverlay;\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ReactDOM from \"react-dom\";\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"./modals.module.css\";\nimport ModalOverlay from \"./modal-overlay/modal-overlay\";\nconst modalsContainer = document.querySelector(\"#react-modals\");\n\nconst Modal = ({ header, children, handleCloseClick }) => {\n  const closePopup = () => {\n    handleCloseClick();\n  };\n\n  const handleEscKeydown = (e) => {\n    e.key === \"Escape\" && handleCloseClick();\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleEscKeydown);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscKeydown);\n    };\n  }, []);\n\n  return ReactDOM.createPortal(\n    <>\n      <section className={styles.popup__container}>\n        <button\n          onClick={closePopup}\n          type=\"button\"\n          className={styles.popup__close_btn}\n        >\n          <CloseIcon />\n        </button>\n        <h1 className={`${styles.popup__header} text text_type_main-large`}>\n          {header}\n        </h1>\n        {children}\n      </section>\n      <ModalOverlay handleCloseClick={handleCloseClick} />\n    </>,\n    modalsContainer\n  );\n};\n\nModal.propTypes = {\n  header: PropTypes.string.isRequired,\n  children: PropTypes.object,\n  handleCloseClick: PropTypes.func.isRequired\n};\n\nexport default Modal;\n","export default __webpack_public_path__ + \"static/media/done.15b3ef00.svg\";","import styles from \"./order_details.module.css\";\nimport done from \"../../../images/done.svg\"\nimport { useSelector } from \"react-redux\";\n\nconst OrderDetails = () => {\n  const {orderNumber} = useSelector(state => state.burgerConstructorIngredients);\n  return (\n    <section className={styles.ordr__card}>\n      <p className={`${styles.ordr__number} text text_type_digits-large`}>\n        {orderNumber}\n      </p>\n          <p\n            className=\"text text_type_main-medium\"\n          >\n            идентификатор заказа\n          </p>\n          <img src={done} alt=\"иконка\" className={styles.ordr__check_icon}/>\n          <p\n            className={`${styles.popup__price} text text_type_main-default mb-2`}\n          >\n            Ваш заказ начали готовить\n          </p>\n          <p\n            className={`${styles.popup__price} text text_type_main-default text_color_inactive mb-15`}\n          >\n            Дождитесь готовности на орбитальной станции\n          </p>\n    </section>\n  );\n};\n\nexport default OrderDetails;\n","import { Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"./burger-constructor.module.css\";\nimport IngredientSection from \"../ingredient-section/ingredient-section\";\nimport TotalBill from \"./total-bill\";\nimport Modal from \"../modals/modals\";\nimport OrderDetails from \"../modals/order-details/order-details\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useDrop } from \"react-dnd\";\nimport { DECREASE_COUNTER, INCREASE_COUNTER } from \"../../services/actions/ingredients\";\nimport {\n  ADD_INGREDIENT,\n  DELETE_INGREDIENT,\n  placeOrder,\n  TOGGLE_ORDER_MODAL\n} from \"../../services/actions/burgerConstructor\";\n\nfunction BurgerConstructor() {\n\n  const dispatch = useDispatch();\n  const {\n    burgerConstructorIngredients: burgerIngredients,\n    isModalOpen,\n    orderRequest,\n    burgerConstructorBuns: buns\n  } = useSelector(state => state.burgerConstructorIngredients);\n\n  const moveItem = (item) => {\n    if (item.type === \"bun\" && buns.length > 0) {\n      dispatch({\n        type: DECREASE_COUNTER,\n        item: buns[0]\n      });\n      const key = Math.random().toString(36).slice(2);\n      dispatch({\n        type: ADD_INGREDIENT,\n        item: { ...item, key: key }\n      });\n      dispatch({\n        type: INCREASE_COUNTER,\n        item: item\n      });\n    } else {\n      const key = Math.random().toString(36).slice(2);\n      dispatch({\n        type: ADD_INGREDIENT,\n        item: { ...item, key: key }\n      });\n      dispatch({\n        type: INCREASE_COUNTER,\n        item: item\n      });\n    }\n  };\n\n  const [{ isHover }, dropTarget] = useDrop({\n    accept: \"items\",\n    collect: monitor => ({\n      isHover: monitor.isOver()\n    }),\n    drop(item) {\n      moveItem(item);\n    }\n  });\n\n  const onOrderClick = () => {\n    const IDs = { \"ingredients\": burgerIngredients.map(item => item._id) };\n    dispatch(placeOrder(IDs));\n  };\n\n  const onCloseBtnClick = () => {\n    dispatch({\n      type: TOGGLE_ORDER_MODAL\n    });\n  };\n\n  return (\n\n    <>\n      {orderRequest && (\n        <>\n          <Modal\n            header=\"Is loading ...\"\n            handleCloseClick={onCloseBtnClick}\n          >\n          </Modal>\n        </>\n      )}\n      {isModalOpen && !orderRequest && (\n        <>\n          <Modal\n            handleCloseClick={onCloseBtnClick}\n            header=\"\"\n          >\n            <OrderDetails />\n          </Modal>\n        </>\n      )}\n\n      <section ref={dropTarget} className={`${styles.ingredients__section} pl-5 pr-4 pt-25`}>\n        <IngredientSection />\n        <div className={styles.ingredients__shopping_cart}>\n          {(burgerIngredients.length === 0 || buns.length === 0) &&\n            <div className={styles.ingredients__button}></div>}\n          <TotalBill />\n          <Button onClick={onOrderClick} type=\"primary\" size=\"large\">\n            Оформить заказ\n          </Button>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default BurgerConstructor;\n","import PropTypes from \"prop-types\";\nimport styles from \"./card.module.css\";\nimport { Counter, CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { dataTypes } from \"../../utils/const\";\nimport { useDrag } from \"react-dnd\";\n\nconst Card = ({ data, clicker }) => {\n  const handleClick = () => {\n    clicker(data);\n  };\n\n  const [{ opacity }, ref] = useDrag({\n    type: \"items\",\n    item: data,\n    collect: monitor => ({\n      opacity: monitor.isDragging() ? 0.5 : 1\n    })\n  });\n\n  return (\n    <div ref={ref} onClick={handleClick} className={styles.card} style={{ opacity }}>\n      <img src={data.image} alt={data.name} className={styles.card__image} />\n      {data.counter > 0 && (<div className={styles.card__counter}>\n        <Counter count={data.counter} size=\"default\" />\n      </div>)}\n      <p\n        className={`${styles.card__price} text text_type_digits-default mt-1 mb-1`}\n      >\n        {data.price}\n        <CurrencyIcon type=\"primary\" />{\" \"}\n      </p>\n      <p className={`${styles.card__title} text text_type_main-default`}>\n        {data.name}\n      </p>\n    </div>\n  );\n};\n\nCard.propTypes = {\n  data: dataTypes.isRequired,\n  clicker: PropTypes.func.isRequired\n};\n\nexport default Card;\n","import PropTypes from 'prop-types'; \n\nexport const dataTypes = PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    type: PropTypes.oneOf([\"bun\", \"main\", \"sauce\"]).isRequired,\n    proteins: PropTypes.number.isRequired,\n    fat: PropTypes.number.isRequired,\n    carbohydrates: PropTypes.number.isRequired,\n    calories: PropTypes.number.isRequired,\n    price: PropTypes.number.isRequired,\n    image: PropTypes.string.isRequired,\n    image_mobile: PropTypes.string.isRequired,\n    image_large: PropTypes.string.isRequired,\n    __v: PropTypes.number.isRequired,\n  })","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Card from \"../card/card\";\nimport styles from \"./ingredient-list.module.css\";\nimport { useSelector } from \"react-redux\";\n\nconst IngredientList = React.forwardRef(({ title, id, ingredient, openModal }, ref) => {\n  const { ingredients }\n    = useSelector(\n    state => state.ingredients\n  );\n\n  return (\n    <div className={styles.ingredients__item}>\n      <p id={id} ref={ref} className=\"text text_type_main-medium\">\n        {title}\n      </p>\n      <ul className={`${styles.ingredients__list} pl-4 pr-4 pt-6`}>\n        {ingredients\n          .filter((item) => item.type === ingredient)\n          .map((item) => {\n            return (\n              <li key={item._id}>\n                <Card data={item} clicker={openModal} />\n              </li>\n            );\n          })}\n      </ul>\n    </div>\n  );\n});\n\nIngredientList.propTypes = {\n  title: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  ingredient: PropTypes.oneOf([\"bun\", \"main\", \"sauce\"]).isRequired,\n  openModal: PropTypes.func.isRequired\n};\n\nexport default IngredientList;\n","import PropTypes from \"prop-types\";\nimport { dataTypes } from \"../../../utils/const\";\nimport styles from \"./ingredient_details.module.css\";\n\nconst IngredientDetails = ({ data }) => {\n  return (\n    <section className={styles.ingr__card}>\n      <img\n        src={data.data.image_large}\n        alt={data.data.name}\n        className={styles.ingr__image}\n      />\n      <p className={`${styles.ingr__title} text text_type_main-medium`}>\n        {data.data.name}\n      </p>\n      <div className={styles.ingr__info_section}>\n        <div className={styles.ingr__info_el}>\n          <p\n            className={`${styles.popup__price} text text_type_main-default text_color_inactive`}\n          >\n            Калории, ккал\n          </p>\n          <p\n            className={`${styles.popup__price} text text_type_digits-default text_color_inactive`}\n          >\n            {data.data.calories}\n          </p>\n        </div>\n        <div className={styles.ingr__info_el}>\n          <p\n            className={`${styles.popup__price} text text_type_main-default text_color_inactive`}\n          >\n            Белки, г\n          </p>\n          <p\n            className={`${styles.popup__price} text text_type_digits-default text_color_inactive`}\n          >\n            {data.data.proteins}\n          </p>\n        </div>\n        <div className={styles.ingr__info_el}>\n          <p\n            className={`${styles.popup__price} text text_type_main-default text_color_inactive`}\n          >\n            Жиры, г\n          </p>\n          <p\n            className={`${styles.popup__price} text text_type_digits-default text_color_inactive`}\n          >\n            {data.data.fat}\n          </p>\n        </div>\n        <div className={styles.ingr__info_el}>\n          <p\n            className={`${styles.popup__price} text text_type_main-default text_color_inactive`}\n          >\n            Углеводы, г\n          </p>\n          <p\n            className={`${styles.popup__price} text text_type_digits-default text_color_inactive`}\n          >\n            {data.data.carbohydrates}\n          </p>\n        </div>\n      </div>\n    </section>\n  );\n};\n\n\nIngredientDetails.propTypes = {\n  data: PropTypes.objectOf(dataTypes).isRequired,\n};\n\nexport default IngredientDetails;\n","import React, { useEffect, useState } from \"react\";\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"./burger-ingredients.module.css\";\nimport IngredientList from \"../ingredient-list/ingredient-list\";\nimport Modal from \"../modals/modals\";\nimport IngredientDetails from \"../modals/ingredient-details/ingredient-details\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { TAB_SWITCH, TOGGLE_MODAL } from \"../../services/actions/ingredients\";\nimport { useInView } from \"react-intersection-observer\";\n\nfunction BurgerIngredients() {\n  const dispatch = useDispatch();\n  const {currentTab, isModalOpen} = useSelector(state => state.ingredients);\n\n  const handleClick = (value) => {\n    document.querySelector(\"#\" + value).scrollIntoView();\n    dispatch({\n      type: TAB_SWITCH,\n      value: value\n    });\n  };\n\n  const [refBun, tabBun] = useInView(\n    { threshold: 0 }\n  );\n  const [refSauce, tabSauce] = useInView(\n    { threshold: 0 }\n  );\n  const [refMain, tabMain] = useInView(\n    { threshold: 0 }\n  );\n\n  useEffect(\n    () => {\n      if (tabBun) {\n        dispatch({\n          type: TAB_SWITCH,\n          value: \"bun\"\n        });\n      } else if (tabSauce) {\n        dispatch({\n          type: TAB_SWITCH,\n          value: \"sauce\"\n        });\n      } else if (tabMain) {\n        dispatch({\n          type: TAB_SWITCH,\n          value: \"main\"\n        });\n      }\n    }, [dispatch, tabBun, tabSauce, tabMain]\n  );\n\n  const [renderData, setRenderData] = useState([]);\n\n  const onIngrClick = (data) => {\n    dispatch({\n      type: TOGGLE_MODAL\n    });\n    setRenderData({ data });\n  };\n\n  const onCloseBtnClick = () => {\n    dispatch({\n      type: TOGGLE_MODAL\n    });\n  };\n\n  return (\n    <>\n      {isModalOpen && (\n        <>\n          <Modal\n            handleCloseClick={onCloseBtnClick}\n            header=\"Детали ингредиента\"\n          >\n            <IngredientDetails data={renderData} />\n          </Modal>\n        </>\n      )}\n      <section\n        className={`${styles.ingredients__section} pl-4 pr-5 pt-10 pb-8`}\n      >\n        <h1 className=\"text text_type_main-large mb-5\"> Соберите бургер</h1>\n        <div className={styles.ingredients__tab}>\n          <Tab value=\"bun\" active={currentTab === \"bun\"} onClick={handleClick}>\n            Булки\n          </Tab>\n          <Tab value=\"sauce\" active={currentTab === \"sauce\"} onClick={handleClick}>\n            Соусы\n          </Tab>\n          <Tab value=\"main\" active={currentTab === \"main\"} onClick={handleClick}>\n            Начинка\n          </Tab>\n        </div>\n        <div className={styles.ingredients__menu}>\n          <IngredientList\n            id={\"bun\"}\n            ref={refBun}\n            title=\"Булки\"\n            ingredient=\"bun\"\n            openModal={onIngrClick}\n          />\n          <IngredientList\n            id={\"sauce\"}\n            ref={refSauce}\n            title=\"Соусы\"\n            ingredient=\"sauce\"\n            openModal={onIngrClick}\n          />\n          <IngredientList\n            id={\"main\"}\n            ref={refMain}\n            title=\"Начинки\"\n            ingredient=\"main\"\n            openModal={onIngrClick}\n          />\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default BurgerIngredients;\n","import AppHeader from \"../app-header/app-header\";\nimport BurgerConstructor from \"../burger-constructor/burger-constructor\";\nimport styles from \"./app.module.css\";\nimport BurgerIngredients from \"../burger-ingredients/burger-ingredients\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getItems } from \"../../services/actions/ingredients\";\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { DndProvider } from 'react-dnd';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const {ingredients}\n    = useSelector(\n    state => state.ingredients\n  );\n  useEffect(\n    () => {\n      dispatch(getItems());\n    },\n    []\n  );\n\n  return (\n    <div className={styles.app}>\n      <AppHeader />\n      <main className={styles.app__main}>\n        {ingredients.length && (\n          <>\n          <DndProvider backend={HTML5Backend}>\n              <BurgerIngredients />\n              <BurgerConstructor />\n          </DndProvider>\n          </>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import {\n  DECREASE_COUNTER,\n  INCREASE_COUNTER,\n  GET_ITEMS_FAILED,\n  GET_ITEMS_REQUEST,\n  GET_ITEMS_SUCCESS, TAB_SWITCH, TOGGLE_MODAL, RESET_COUNTER\n} from \"../actions/ingredients\";\n\nconst initialState = {\n  ingredients: [],\n  ingredientsRequest: false,\n  ingredientsFailed: false,\n  currentTab: \"bun\",\n  isModalOpen: false\n};\n\nexport const ingredientsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_ITEMS_REQUEST: {\n      return {\n        ...state,\n        ingredientsRequest: true\n      };\n    }\n    case GET_ITEMS_SUCCESS: {\n      return {\n        ...state,\n        ingredientsFailed: false,\n        ingredients: [...action.ingredients].map(item => ({ ...item, counter: 0 })),\n        ingredientsRequest: false\n      };\n    }\n    case GET_ITEMS_FAILED: {\n      return { ...state, ingredientsFailed: true, ingredientsRequest: false };\n    }\n\n    case INCREASE_COUNTER: {\n      return {\n        ...state,\n        ingredients: [...state.ingredients].map(item =>\n          item._id === action.item._id && action.item.type === \"bun\" ? { ...item, counter: item.counter + 2 } :\n            item._id === action.item._id ? { ...item, counter: item.counter + 1 } :\n              item\n        )\n      };\n    }\n    case DECREASE_COUNTER: {\n      return {\n        ...state,\n        ingredients: [...state.ingredients].map(item =>\n          item._id === action.item._id && action.item.type === \"bun\" ? { ...item, counter: item.counter - 2 } :\n            item._id === action.item._id ? { ...item, counter: item.counter - 1 } :\n            item\n        )\n      };\n    }\n    case RESET_COUNTER: {\n      return {\n        ...state,\n        ingredients: [...state.ingredients].map(item =>\n          ({ ...item, counter: 0 })\n        )\n      };\n    }\n    case TAB_SWITCH: {\n      return {\n        ...state,\n        currentTab: action.value\n      };\n    }\n    case TOGGLE_MODAL: {\n      return {\n        ...state,\n        isModalOpen: !state.isModalOpen\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};","import {\n  ADD_INGREDIENT,\n  DELETE_INGREDIENT,\n  MOVE_ELEMENT,\n  PLACE_ORDER_FAILED,\n  PLACE_ORDER_REQUEST,\n  PLACE_ORDER_SUCCESS,\n  RESET_ALL_INGREDIENTS,\n  RESET_TOTAL_PRICE,\n  SET_TOTAL_PRICE,\n  TOGGLE_ORDER_MODAL\n} from \"../actions/burgerConstructor\";\n\nconst initialState = {\n  burgerConstructorIngredients: [],\n  burgerConstructorBuns: [],\n  totalPrice: \"\",\n  isModalOpen: false,\n  orderRequest: false,\n  orderRequestFailed: false,\n  orderNumber: \"\"\n};\n\nexport const burgerConstructorReducer = (state = initialState, action) => {\n  switch (action.type) {\n\n    case ADD_INGREDIENT: {\n      if (action.item.type !== \"bun\") {\n        return {\n          ...state,\n          burgerConstructorIngredients: [...state.burgerConstructorIngredients, action.item]\n        };\n      } else {\n        return {\n          ...state,\n          burgerConstructorBuns: [action.item]\n        };\n      }\n    }\n    case DELETE_INGREDIENT: {\n      return {\n        ...state,\n        burgerConstructorIngredients: [...state.burgerConstructorIngredients].filter(item => item.key !== action.item.key)\n      };\n    }\n    case RESET_ALL_INGREDIENTS: {\n      return {\n        ...state,\n        burgerConstructorIngredients: [],\n        burgerConstructorBuns: []\n      };\n    }\n    case MOVE_ELEMENT: {\n      const ingredients = [...state.burgerConstructorIngredients];\n      ingredients.splice(action.data.dragIndex, 0, ingredients.splice(action.data.hoverIndex, 1)[0]);\n      return {\n        ...state, burgerConstructorIngredients: ingredients\n      };\n    }\n    case SET_TOTAL_PRICE: {\n      return {\n        ...state,\n        totalPrice: action.value\n      };\n    }\n    case RESET_TOTAL_PRICE: {\n      return {\n        ...state,\n        totalPrice: 0\n      };\n    }\n    case TOGGLE_ORDER_MODAL: {\n      return {\n        ...state,\n        isModalOpen: !state.isModalOpen\n      };\n    }\n    case PLACE_ORDER_REQUEST: {\n      return {\n        ...state,\n        orderRequest: true\n      };\n    }\n    case PLACE_ORDER_SUCCESS: {\n      return {\n        ...state,\n        orderRequestFailed: false,\n        orderNumber: action.payload,\n        orderRequest: false\n      };\n    }\n    case PLACE_ORDER_FAILED: {\n      return { ...state, orderRequestFailed: true, orderRequest: false };\n    }\n    default: {\n      return state;\n    }\n  }\n};","import { combineReducers } from 'redux';\nimport { ingredientsReducer } from \"./ingredients\";\nimport { burgerConstructorReducer } from \"./burgerConstructor\";\nexport const rootReducer = combineReducers({\n  ingredients: ingredientsReducer,\n  burgerConstructorIngredients: burgerConstructorReducer\n});","import ReactDOM from \"react-dom\";\nimport App from \"./components/app/app\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, compose, createStore } from \"redux\";\nimport { rootReducer } from './services/reducers';\nimport thunk from 'redux-thunk';\n\nconst composeEnhancers =\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\n\nconst store = createStore(rootReducer, enhancer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  , document.querySelector(\"#root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1iHLW\",\"header__navigation\":\"app-header_header__navigation__2N-rI\",\"header__login\":\"app-header_header__login__35muA\",\"header__button\":\"app-header_header__button__4oSZC\",\"header__button_active\":\"app-header_header__button_active__1K3AL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__section\":\"burger-constructor_ingredients__section__x9zXs\",\"ingredients__total\":\"burger-constructor_ingredients__total__10mFY\",\"ingredients__shopping_cart\":\"burger-constructor_ingredients__shopping_cart__3MUTp\",\"ingredients__button\":\"burger-constructor_ingredients__button__2b57T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"modals_popup__2yolE\",\"popup__container\":\"modals_popup__container__18Uo6\",\"popup__header\":\"modals_popup__header__1Ucr5\",\"popup__close_btn\":\"modals_popup__close_btn__7zRZ4\",\"popup__close-btn\":\"modals_popup__close-btn__1Nq8-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ordr__card\":\"order_details_ordr__card__1O6Xo\",\"ordr__number\":\"order_details_ordr__number__2bfPC\",\"ordr__info_section\":\"order_details_ordr__info_section__31Hh5\",\"ordr__check_icon\":\"order_details_ordr__check_icon__rOwF7\",\"ingr__image\":\"order_details_ingr__image__2GH-h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"card_card__1py-W\",\"card__counter\":\"card_card__counter__3WbDt\",\"card__price\":\"card_card__price__xpVR9\",\"card__title\":\"card_card__title__2ymW3\",\"card__image\":\"card_card__image__2DQ7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__item\":\"ingredient-section_ingredients__item__1kqBe\",\"ingredients__list\":\"ingredient-section_ingredients__list__ADGvS\",\"ingredients__el\":\"ingredient-section_ingredients__el__U-ai0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__section\":\"burger-ingredients_ingredients__section__1TqYu\",\"ingredients__tab\":\"burger-ingredients_ingredients__tab__FSPmd\",\"ingredients__menu\":\"burger-ingredients_ingredients__menu__3nEZS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__M9MMq\",\"app__main\":\"app_app__main__21jMs\",\"app__search\":\"app_app__search__2Ywcd\",\"app__cards\":\"app_app__cards__31v0T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__item\":\"ingredient-list_ingredients__item__x75wT\",\"ingredients__list\":\"ingredient-list_ingredients__list__2AjpM\"};"],"sourceRoot":""}